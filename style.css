/* Include Minecraft font (example) */
@font-face {
    font-family: 'Minecraftia';
    src: url('fonts/Minecraftia.woff2') format('woff2'),
         url('fonts/Minecraftia.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}

:root {
    --sidebar-width: 250px; /* Define sidebar width */
    --hamburger-size: 40px; /* Define hamburger button size */
    --sidebar-bg-color: #211F20; /* Accent background for sidebar */
    --main-bg-color: #171614; /* Main background */
    --border-color: #171614; /* Dark border color */
    --text-color: #ffffff; /* White text */
    --accent-color: #ffffff; /* White accent (used for active states, borders etc) */
     --text-shadow: 2px 2px #000000; /* Simple text shadow */
}


body {
    font-family: 'Minecraftia', monospace;
    background-color: var(--main-bg-color);
    color: var(--text-color);
    margin: 0;
    padding: 0; /* Remove padding here, main content handles it */
    display: flex;
    /* No need for flex center/start here, body just contains sidebar and main content */
    min-height: 100vh;
    overflow-x: hidden; /* Hide horizontal scrollbar caused by sidebar transition */
}

/* --- Sidebar and Main Content Layout --- */
#sidebar {
    position: fixed; /* Fixed position so it stays visible */
    left: 0;
    top: 0;
    width: var(--sidebar-width);
    height: 100%;
    background-color: var(--sidebar-bg-color);
    border-right: 4px solid var(--border-color);
    padding: 20px;
    box-sizing: border-box;
    transform: translateX(-100%); /* Start off-screen */
    transition: transform 0.3s ease; /* Smooth slide animation */
    z-index: 100; /* Ensure sidebar is above content */
    display: flex; /* Use flex for column layout */
    flex-direction: column;
    justify-content: space-between; /* Push footer to the bottom */
    overflow-y: auto; /* Add scrollbar if menu is too long */
}

#sidebar.open {
    transform: translateX(0); /* Slide in */
}

.main-content {
    flex-grow: 1; /* Take remaining space */
    padding: 20px; /* Add padding to the content area */
    margin-left: 0; /* Start with no margin */
    transition: margin-left 0.3s ease; /* Smooth shift animation */
     /* Add margin when sidebar is open */
    /* This is handled by JS adding a class to body or main-content */
}

body.sidebar-open .main-content {
     margin-left: var(--sidebar-width);
}

/* --- Hamburger Icon --- */
#hamburgerBtn {
    position: fixed;
    top: 20px;
    left: 20px;
    width: var(--hamburger-size);
    height: var(--hamburger-size);
    padding: 0;
    background-color: var(--sidebar-bg-color);
    border: 2px solid var(--border-color);
    border-radius: 4px;
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    align-items: center;
    cursor: pointer;
    z-index: 101; /* Ensure icon is above sidebar */
    transition: left 0.3s ease; /* Shift icon with sidebar */
}

#hamburgerBtn .line {
    width: 70%;
    height: 4px;
    background-color: var(--text-color);
    border-radius: 2px;
    transition: background-color 0.1s ease;
}

#hamburgerBtn:hover .line {
    background-color: #cccccc; /* Slightly lighter on hover */
}

body.sidebar-open #hamburgerBtn {
     left: calc(var(--sidebar-width) + 20px); /* Shift icon when sidebar is open */
}


/* --- Sidebar Content --- */
.sidebar-header h2 {
    text-align: center;
    color: var(--accent-color);
    text-shadow: var(--text-shadow);
    margin-top: 0;
    margin-bottom: 20px;
    border-bottom: 2px solid var(--border-color);
    padding-bottom: 10px;
}

.sidebar-menu {
    list-style: none;
    padding: 0;
    margin: 0;
    flex-grow: 1; /* Allow menu to take available space */
}

.sidebar-menu li {
    margin-bottom: 8px;
}

.sidebar-link {
    /* Base button styles */
     display: block; /* Make buttons fill list item width */
     width: 100%;
     padding: 10px;
     background-color: transparent; /* Transparent background */
     color: var(--text-color);
     border: 2px solid transparent; /* Transparent border initially */
     border-radius: 4px;
     font-family: 'Minecraftia', monospace;
     font-size: 1em;
     text-align: left; /* Align text left */
     cursor: pointer;
     transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
     text-shadow: none; /* Remove text shadow on sidebar links */
}

.sidebar-link:hover {
    background-color: rgba(0, 0, 0, 0.2); /* Subtle dark hover */
    border-color: var(--border-color);
    color: var(--accent-color);
}

.sidebar-link:active {
    background-color: rgba(0, 0, 0, 0.4); /* Darker when pressed */
    border-color: var(--text-color);
    transform: none; /* No vertical transform for sidebar links */
}

/* Style for the active sidebar link (when its section is shown) */
/* Add a class like 'active-section' to the button via JS */
.sidebar-link.active-section {
     background-color: rgba(0, 0, 0, 0.3); /* Highlight background */
     border-color: var(--accent-color); /* White border for active */
     color: var(--accent-color); /* White text for active */
     font-weight: bold;
}


.sidebar-footer {
    margin-top: 20px;
    padding-top: 10px;
    border-top: 2px solid var(--border-color);
    text-align: center; /* Center the settings link */
}
/* Style for the Settings link */
.sidebar-footer .sidebar-link {
     text-align: center;
     /* Specific styles if needed, e.g., different color */
}


/* --- Content Sections --- */
.content-section {
    display: none; /* Hidden by default, shown by JS */
}

/* Home Page Specific Styles */
#homeTool {
     /* display: block; /* Should be set to block by JS on load */
     text-align: center;
     padding-top: 50px; /* Add some space from the top */
}
#homeTool h1 {
     margin-bottom: 20px;
}
#homeTool p {
    margin-bottom: 10px;
     color: var(--text-color);
     font-size: 1em;
}


/* Settings Page Specific Styles */
#settingsTool {
     /* display: block; /* Should be set to block by JS when selected */
}
 #settingsTool .section {
     margin-top: 20px;
     text-align: center; /* Center contents */
 }
  #settingsTool .option-group {
      justify-content: center; /* Center options */
  }
   #settingsTool .option-group label {
       min-width: 150px;
       flex-basis: auto; /* Adjust basis */
       margin-right: 15px;
       margin-bottom: 0; /* Reset margin bottom */
       text-align: left;
   }
   #settingsTool .option-group input[type="range"] {
       width: 150px; /* Fixed width for sliders */
        flex-grow: 0;
        margin-right: 10px;
   }
   #settingsTool .option-group span {
       flex-basis: auto; /* Don't force new line */
       text-align: left;
       margin-top: 0;
       padding-right: 0;
   }
   #toggleMusicBtn {
       margin-top: 20px;
   }


/* --- General Tool Section Styles (Existing, keep these) --- */
.container {
    /* Removed background, border, box-shadow, max-width, margin-top */
    /* Padding is handled by .main-content */
    background-color: transparent; /* Ensure transparent */
    padding: 0; /* Remove padding */
    box-shadow: none;
    border: none;
    max-width: 100%;
    margin-top: 0;
    margin-bottom: 0;
    display: flex;
    flex-direction: column;
    align-items: stretch;
}

h1, h2, h3 {
    text-align: center;
    color: var(--text-color);
    text-shadow: var(--text-shadow);
}

h2 {
    border-bottom: 2px solid var(--border-color);
}

.section {
    border: 2px solid var(--border-color);
    background-color: rgba(0, 0, 0, 0.1);
}

input[type="text"], input[type="file"], input[type="number"], textarea {
     border: 2px solid var(--border-color);
     background-color: #3a3837;
     color: var(--text-color);
     font-family: 'Minecraftia', monospace;
}
textarea::placeholder {
     color: #c0c0c0;
}


/* --- Existing Button Styles (Refined) --- */
/* Apply the unified button style defined earlier */
/* Specific overrides for preset buttons remain */
#presetList li button {
     /* Keep existing overrides for padding, size, min-width, margin, text-align */
     background-color: #4a4645; /* Match general button background */
     border-color: #171614; /* Match general button border */
     text-shadow: 1px 1px #000000;
}
#presetList li button:hover {
     background-color: #5a5655;
     border-color: #ffffff;
}
#presetList li button:active {
     background-color: #3a3837;
     border-color: #aaaaaa;
}

#selectedPresetsList li button {
     background-color: #c0392b; /* Red background for remove */
     border-color: #a02c1e; /* Darker red border */
}
#selectedPresetsList li button:hover {
     background-color: #e74c3c; /* Lighter red on hover */
     border-color: #c0392b;
}
#selectedPresetsList li button:active {
     background-color: #a02c1e; /* Darker red when pressed */
     border-color: #e74c3c;
}


/* --- Image Tool Specifics --- */
#imagePreview {
    border: 2px solid var(--border-color);
}

/* --- Responsive Adjustments --- */
@media (max-width: 768px) { /* Adjust breakpoint for smaller screens */
    :root {
        --sidebar-width: 100%; /* Full width sidebar on small screens */
    }

    #sidebar {
        transform: translateX(-100%); /* Hidden by default */
        width: var(--sidebar-width);
        border-right: none; /* Remove right border */
        border-bottom: 4px solid var(--border-color); /* Add bottom border */
         padding: 15px; /* Adjust padding */
    }
     #sidebar.open {
         transform: translateX(0); /* Slide in */
     }

    #hamburgerBtn {
        top: 15px; /* Adjust position */
        left: 15px; /* Adjust position */
         background-color: var(--main-bg-color); /* Darker background */
         border-color: var(--border-color);
         z-index: 102; /* Ensure it's above everything */
    }
    body.sidebar-open #hamburgerBtn {
         left: 15px; /* Don't shift icon on small screen */
    }

     .main-content {
         padding: 15px; /* Adjust padding */
         margin-left: 0 !important; /* Ensure no margin on small screen */
         margin-top: calc(var(--hamburger-size) + 20px); /* Add space below fixed icon */
     }

    /* Ensure sidebar covers content when open on small screens */
    body.sidebar-open #sidebar {
        height: 100vh; /* Cover the full viewport height */
    }

     /* Adjust layout for form/option groups */
    .form-group, .option-group {
        flex-direction: column;
        align-items: flex-start;
    }
     .form-group label, .option-group label {
         margin-right: 0;
         margin-bottom: 5px;
         min-width: auto;
          flex-basis: auto;
     }
      .form-group input[type="text"],
      .form-group input[type="file"],
      .option-group input[type="number"],
      .option-group input[type="text"],
      .option-group input[type="range"] {
          width: 100%;
          box-sizing: border-box;
          margin-right: 0;
      }
       .option-group span {
          text-align: left;
           padding-right: 0;
       }
       .option-group #thresholdValue {
            width: auto;
            text-align: left;
            margin-top: 5px;
       }

     /* Adjust button group layout */
     .button-group {
         flex-direction: column;
         gap: 8px;
     }
      button {
          width: 100%;
           padding: 8px 10px;
           font-size: 0.95em;
      }

      /* Adjust preset list item layout */
      #presetList li, #selectedPresetsList li {
           flex-direction: column;
           align-items: flex-start;
           padding: 6px;
      }
       #presetList li button {
           margin-top: 5px;
            margin-left: 0;
            align-self: flex-end; /* Align button to the right */
       }
        #selectedPresetsList li button {
            margin-top: 5px;
             align-self: flex-end;
        }

    /* Settings Specific Mobile Adjustments */
    #settingsTool .option-group label {
        min-width: auto; /* Override fixed width */
        flex-basis: auto;
    }
    #settingsTool .option-group input[type="range"] {
        width: 100%; /* Make sliders full width */
    }
}
